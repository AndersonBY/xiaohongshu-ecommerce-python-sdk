# 小红书云打印系统物料使用说明书

**文档ID**: 297
**类别**: 电子面单
**创建时间**: 2024-10-31 16:18:02
**更新时间**: 2024-11-12 15:51:50

---

# 小红书云打印系统物料使用说明书

# 一、简介

* 小红书云打印系统支持拖拽形式 + 属性配置方式绘制电子面单，并输出标准JSON结构用于解析
* 当前版本小红书云打印系统支持以下几种物料，请按需选择使用

+ 二维码
+ 条形码
+ 纵向条形码
+ 文本
+ 矩形
+ 横线
+ 竖线
+ 竖排文本
+ ISV打印项
+ 表格

* 部分物料支持配置动态数据，请参考下方使用说明，有🚩的属性标识支持动态数据，动态数据配置规则如下

+ 数据解析：#data.xxx
+ JS表达式：#data.xxx === true ? '1' : '2'

* 建议使用如下版本浏览器:

+ Chrome的最新版本
+ 相关浏览器的极速模式

* 云打印系统使用可参考： [云打印系统使用手册](https://doc.weixin.qq.com/doc/w3_AAcA0wanAO43jzLPohxTMWKJ4jyQd?scode=ANAAyQcbAAgXnPhVMx)

# 二、页Page说明

```
{
    "componentName": "Page",
    "children": [],
    "size": "76x130",
    "canvasSize": "389x666",
    "isSplit": true
}
```

|  |  |  |
| --- | --- | --- |
| 属性 | 值 | 说明 |
| componentName | Page | 固定值 |
| children | 数组 | 每个元素是一个物料组件 |
| size | 页尺寸宽\*高，单位mm | 例如一联尺寸：76\*130 |
| canvasSize | 页尺寸，单位px | 小红书云打印系统渲染的尺寸，ISV可以不用关心 |
| isSplit | true或者false | 是否分页 |

组件通用属性

|  |  |  |
| --- | --- | --- |
| 属性 | 值 | 说明 注意所有坐标长宽相关的字段传值，只能用数字，不允许使用字符串，也不要在字体大小末尾加上px |
| props.basic.left | 横向坐标 | 绝对坐标，单位mm，整数 |
| props.basic.top | 纵向坐标 | 绝对坐标，单位mm，整数 |
| props.basic.width | 宽度 | 单位mm，线条的线宽支持小数，其余组件如果为浮点数时会向上取整 |
| props.basic.height | 高度 | 单位mm，整数 |
| props.textSection.fontSize | 字号 | 单位px，整数 |

# 三、物料使用说明

## 3.1 二维码

### 3.1.1 效果图

![](https://qimg.xiaohongshu.com/odin/1041017g319k2o10tnc06bbea2o90000000000137o8hic)

### 3.1.2 支持配置

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| 属性字段 | | | 字段说明 | 使用建议 | 默认数据 | 支持自定义数据#data.xxx |
| props | basic | left | 横向坐标 | 必传 |  |  |
| top | 纵向坐标 | 必传 |  |  |
| width | 组件宽度 | 必传 |  |  |
| height | 组件高度 | 必传 |  |  |
| contentSection | value | 静态/动态内容 | 必传 |  | ✅ |
| content | 云打印系统上配置动态内容时，取该字段展示预览效果 |  |  |  |
| visibleSection | visible | 默认是否展示 |  | true |  |
| value | 根据自定义数据控制是否展示当前组件 |  |  | ✅ |

### 3.1.3 参考数据

**3.1.3.1 最小可用数据**

说明：只保留必传参数，其余属性均使用默认

```
    {
      "componentName": "OnixBarleyElectronicQrcode",
      "props": {
        "basic": {
          "left": 29,
          "top": 28,
          "width": 20,
          "height": 20
        },
        "contentSection": {
          "value": "#data.orderNo"
        }
      }
    }
```

**3.1.3.2 完整数据**

```
    {
      "componentName": "OnixBarleyElectronicQrcode",
      "props": {
        "basic": {
          "left": 29,
          "top": 28,
          "width": 20,
          "height": 20
        },
        "contentSection": {
          "content": "http://www.xiaohongshu.com",
          "value": "#data.orderNo"
        },
        "visibleSection": {
          "visible": true,
          "value": "#data.qrcodeVisible"
        }
      }
    }
```

## 3.2 条形码

### 3.2.1 效果图

![](https://qimg.xiaohongshu.com/odin/1041017g319k31rrm7c06bbea2o9000000000016p6phl6)

### 3.2.2 支持配置

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| 属性字段 | | | 字段说明 | 使用建议 | 默认值 | 支持自定义数据#data.xxx |
| props | basic | left | 横向坐标 | 必传 |  |  |
| top | 纵向坐标 | 必传 |  |  |
| width | 组件宽度 | 必传 |  |  |
| height | 组件高度 | 必传 |  |  |
| materialSection | isDescribeShow | 是否展示条形码文本内容 |  | true |  |
| type | 条形码格式，所有支持的参考附录 |  | CODE128 |  |
| contentSection | value | 静态/动态内容 | 必传 |  | ✅ |
| content | 云打印系统上配置动态内容时，取该字段展示预览效果 |  |  |  |
| visibleSection | visible | 默认是否展示 |  | true |  |
| value | 根据自定义数据控制是否展示当前组件 |  |  | ✅ |

### 3.2.3 参考数据

**3.2.3.1 最小可用数据**

说明：只保留必传参数，其余属性均使用默认

```
    {
      "componentName": "OnixBarleyElectronicBarcode",
      "props": {
        "basic": {
          "left": 13,
          "top": 17,
          "width": 48,
          "height": 19
        },
        "contentSection": {
          "value": "#data.orderNo"
        }
      }
    }
```

**3.2.3.2 完整数据**

```
    {
      "componentName": "OnixBarleyElectronicBarcode",
      "props": {
        "basic": {
          "left": 13,
          "top": 17,
          "width": 48,
          "height": 19
        },
        "materialSection": {
          "isDescribeShow": true,
          "type": "CODE128"
        },
        "contentSection": {
          "content": "LP123456789",
          "value": "#data.orderNo"
        },
        "visibleSection": {
          "visible": true,
          "value": "#data.barcodeVisible"
        }
      }
    }
```

## 3.3 纵向条形码

### 3.3.1 效果图

![](https://qimg.xiaohongshu.com/odin/1041017g319k3nl5v7a06bbea2o9000000000015hu5qlg)

### 3.3.2 支持配置

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| 属性字段 | | | 字段说明 | 使用建议 | 默认值 | 支持自定义数据#data.xxx |
| props | basic | left | 横向坐标 | 必传 |  |  |
| top | 纵向坐标 | 必传 |  |  |
| width | 组件宽度 | 必传 |  |  |
| height | 组件高度 | 必传 |  |  |
| materialSection | isDescribeShow | 是否展示条形码文本内容 |  | true |  |
| type | 条形码格式，所有支持的参考附录 |  | CODE128 |  |
| contentSection | value | 静态/动态内容 | 必传 |  | ✅ |
| content | 云打印系统上配置动态内容时，取该字段展示预览效果 |  |  |  |
| visibleSection | visible | 默认是否展示 |  | true |  |
| value | 根据自定义数据控制是否展示当前组件 |  |  | ✅ |

### 3.3.3 参考数据

**3.3.3.1 最小可用数据**

说明：只保留必传参数，其余属性均使用默认

```
    {
      "componentName": "OnixBarleyElectronicBarcodeVertical",
      "props": {
        "basic": {
          "left": 28,
          "top": 21,
          "width": 22,
          "height": 44
        },
        "contentSection": {
          "value": "#data.orderNo"
        }
      }
    }
```

**3.3.3.2 完整数据**

```
    {
      "componentName": "OnixBarleyElectronicBarcodeVertical",
      "props": {
        "basic": {
          "left": 28,
          "top": 21,
          "width": 22,
          "height": 44
        },
        "materialSection": {
          "isDescribeShow": true,
          "type": "CODE128"
        },
        "key": "65",
        "contentSection": {
          "content": "LP123456789",
          "value": "#data.orderNo"
        },
        "visibleSection": {
          "visible": true,
          "value": "#data.barcodeVerticalVisible"
        }
      }
    }
```

## 3.4 文本

### 3.4.1 效果图

![](https://qimg.xiaohongshu.com/odin/1041017g319k3qicv7g06bbea2o9000000000017ilft3a)

### 3.4.2 支持配置

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| 属性字段 | | | 字段说明 | 使用建议 | 默认值 | 支持自定义数据#data.xxx |
| props | basic | left | 横向坐标 | 必传 |  |  |
| top | 纵向坐标 | 必传 |  |  |
| width | 组件宽度 | 必传 |  |  |
| height | 组件高度 | 必传 |  |  |
| textSection | backgroundColor | 文本区域背景色 |  | 无 |  |
| color | 字体颜色 |  | #000 |  |
| rotate | 旋转角度 |  | 0 |  |
| fontFamily | 字体，当前只支持黑体 |  | SimHei, Arial, sans-serif（黑体） |  |
| fontSize | 字号，单位px，字段属性是纯数字并且末尾不要加上px | 建议传递 | 15px |  |
| fontWeight | 字体粗细，暂不支持修改 |  | 正常 |  |
| letterSpace | 字体间距 |  | 0 |  |
| lineHeight | 行高 |  | 1倍字体高度 |  |
| opacity | 透明度 |  | 100% |  |
| fontStyle | 字体样式 |  | 无 |  |
| fontJustifyContent | 水平列表方式 |  | 左对齐 |  |
| fontAlignItems | 垂直列表方式 |  | 上对齐 |  |
| contentSection | value | 静态/动态内容 | 必传 |  | ✅ |
| content | 云打印系统上配置动态内容时，取该字段展示预览效果 |  |  |  |
| visibleSection | visible | 默认是否展示 |  | true |  |
| value | 根据自定义数据控制是否展示当前组件 |  |  | ✅ |

**配置**

* 内容配置

+ 🚩内容：props.contentSection.value
+ 别名：props.contentSection.content

- 注意：仅在云打印系统生效

* 显示配置

+ 默认显示：props.visibleSection.visible
+ 🚩动态显示：props.visibleSection.value

### 3.4.3 参考数据

**3.4.3.1 最小可用数据**

说明：只保留必传参数，其余属性均使用默认

```
    {
      "componentName": "OnixBarleyElectronicText",
      "props": {
        "basic": {
          "left": 17,
          "top": 30,
          "width": 40,
          "height": 20
        },
        "textSection": {
          "fontSize": 3
        },
        "contentSection": {
          "value": "#data.text"
        }
      }
    }
```

**3.4.3.2 完整数据**

```
    {
      "componentName": "OnixBarleyElectronicText",
      "props": {
        "basic": {
          "left": 17,
          "top": 30,
          "width": 40,
          "height": 20
        },
        "textSection": {
          "rotate": 0,
          "fontFamily": "SimSun, Arial, sans-serif",
          "fontSize": 3,
          "fontWeight": "normal",
          "letterSpace": 0,
          "lineHeight": 1,
          "opacity": 10,
          "fontStyle": "normal",
          "fontJustifyContent": "flex-start",
          "fontAlignItems": "flex-start",
          "backgroundColor": "#FFFFFFFF",
          "color": "#000000FF"
        },
        "contentSection": {
          "content": "小红书",
          "value": "#data.text"
        },
        "visibleSection": {
          "visible": true,
          "value": "#data.textVisible"
        }
      }
    }
```

## 3.5 矩形

### 3.5.1 效果图

![](https://qimg.xiaohongshu.com/odin/1041017g319k55m1tng06bbea2o900000000001551rqg2)

### 3.5.2 支持配置

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| 属性字段 | | | 字段说明 | 使用建议 | 默认值 | 支持自定义数据#data.xxx |
| props | basic | left | 横向坐标 | 必传 |  |  |
| top | 纵向坐标 | 必传 |  |  |
| width | 组件宽度 | 必传 |  |  |
| height | 组件高度 | 必传 |  |  |
| styleSection | borderStyle | 边框样式，实线、虚线 |  | 实线 |  |
| bgColor | 矩形区域内背景色 |  | 无 |  |
| borderSize | 边框粗细 |  | 1 |  |
| visibleSection | visible | 默认是否展示 |  | true |  |
| value | 根据自定义数据控制是否展示当前组件 |  |  | ✅ |

### 3.5.3 参考数据

**3.5.3.1 最小可用数据**

说明：只保留必传参数，其余属性均使用默认

```
    {
      "componentName": "OnixBarleyElectronicRectangle",
      "props": {
        "basic": {
          "left": 28,
          "top": 28,
          "width": 20,
          "height": 20
        }
      }
    }
```

**3.5.3.2 完整数据**

```
    {
      "componentName": "OnixBarleyElectronicRectangle",
      "props": {
        "basic": {
          "left": 28,
          "top": 28,
          "width": 20,
          "height": 20
        },
        "styleSection": {
          "borderStyle": "solid",
          "bgColor": "#fff",
          "borderSize": 1,
          "borderRadius": 0
        },
        "visibleSection": {
          "visible": true,
          "value": "#data.rectAngleVisible"
        }
      }
    }
```

## 3.6 横线

### 3.6.1 效果图

![](https://qimg.xiaohongshu.com/odin/1041017g319k57r6pnc06bbea2o90000000000148412ug)

### 3.6.2 支持配置

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| 属性字段 | | | 字段说明 | 使用建议 | 默认值 | 支持自定义数据#data.xxx |
| props | basic | left | 横向坐标 | 必传 |  |  |
| top | 纵向坐标 | 必传 |  |  |
| width | 组件宽度 | 必传 |  |  |
| styleSection | borderStyle | 边框样式，实线、虚线 |  | 实线 |  |
| bgColor | 矩形区域内背景色 |  | 无 |  |
| borderSize | 边框粗细 |  | 1 |  |
| visibleSection | visible | 默认是否展示 |  | true |  |
| value | 根据自定义数据控制是否展示当前组件 |  |  | ✅ |

### 3.6.3 参考数据

**3.6.3.1 最小可用数据**

说明：只保留必传参数，其余属性均使用默认

```
    {
      "componentName": "OnixBarleyElectronicLine",
      "props": {
        "basic": {
          "left": 17,
          "top": 36,
          "width": 46,
          "height": 19
        }
      }
    }
```

**3.6.3.2 完整数据**

```
    {
      "componentName": "OnixBarleyElectronicLine",
      "props": {
        "basic": {
          "left": 17,
          "top": 36,
          "width": 46,
          "height": 19
        },
        "styleSection": {
          "borderStyle": "solid",
          "borderSize": 1,
          "bgColor": "#000"
        },
        "visibleSection": {
          "visible": true,
          "value": "#data.lineVisible"
        }
      }
    }
```

# 3.7 竖线

### 3.7.1 效果图

![](https://qimg.xiaohongshu.com/odin/1041017g319k5b6gmne06bbea2o9000000000014o1lrcq)

### 3.7.2 支持配置

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| 属性字段 | | | 字段说明 | 使用建议 | 默认值 | 支持自定义数据#data.xxx |
| props | basic | left | 横向坐标 | 必传 |  |  |
| top | 纵向坐标 | 必传 |  |  |
| width | 组件宽度 | 必传 |  |  |
| styleSection | borderStyle | 边框样式，实线、虚线 |  | 实线 |  |
| bgColor | 矩形区域内背景色 |  | 无 |  |
| borderSize | 边框粗细 |  | 1 |  |
| visibleSection | visible | 默认是否展示 |  | true |  |
| value | 根据自定义数据控制是否展示当前组件 |  |  | ✅ |

**配置**

* 显示配置

+ 默认显示：props.visibleSection.visible
+ 🚩动态显示：props.visibleSection.value

### 3.7.3 参考数据

**3.7.3.1 最小可用数据**

说明：只保留必传参数，其余属性均使用默认

```
    {
      "componentName": "OnixBarleyElectronicLineVertical",
      "props": {
        "basic": {
          "left": 38,
          "top": 28,
          "height": 55,
          "width": 11
        }
      }
    }
```

**3.7.3.2 完整数据**

```
    {
      "componentName": "OnixBarleyElectronicLineVertical",
      "props": {
        "basic": {
          "left": 38,
          "top": 28,
          "height": 55,
          "width": 11
        },
        "styleSection": {
          "borderStyle": "solid",
          "borderSize": 1,
          "bgColor": "#000"
        },
        "visibleSection": {
          "visible": true,
          "value": "#data.lineVerticalVisible"
        }
      }
    }
```

## 3.8 竖排文本

### 3.8.1 效果图

![](https://qimg.xiaohongshu.com/odin/1041017g319k5diql7g06bbea2o9000000000013q72dbm)

### 3.8.2 支持配置

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| 属性字段 | | | 字段说明 | 使用建议 | 默认值 | 支持自定义数据#data.xxx |
| props | basic | left | 横向坐标 | 必传 |  |  |
| top | 纵向坐标 | 必传 |  |  |
| width | 组件宽度 | 必传 |  |  |
| height | 组件高度 | 必传 |  |  |
| textSection | backgroundColor | 文本区域背景色 |  | 无 |  |
| color | 字体颜色 |  | #000 |  |
| rotate | 旋转角度 |  | 0 |  |
| fontFamily | 字体，当前只支持黑体 |  | SimHei, Arial, sans-serif（黑体） |  |
| fontSize | 字号，单位px | 建议传递 | 15px |  |
| fontWeight | 字体粗细，暂不支持修改 |  | 正常 |  |
| letterSpace | 字体间距 |  | 0 |  |
| lineHeight | 行高 |  | 1倍字体高度 |  |
| opacity | 透明度 |  | 100% |  |
| fontStyle | 字体样式 |  | 无 |  |
| fontJustifyContent | 水平列表方式 |  | 左对齐 |  |
| fontAlignItems | 垂直列表方式 |  | 上对齐 |  |
| contentSection | value | 静态/动态内容 | 必传 |  | ✅ |
| content | 云打印系统上配置动态内容时，取该字段展示预览效果 |  |  |  |
| visibleSection | visible | 默认是否展示 |  | true |  |
| value | 根据自定义数据控制是否展示当前组件 |  |  | ✅ |

### 3.8.3 参考数据

**3.8.3.1 最小可用数据**

说明：只保留必传参数，其余属性均使用默认

```
    {
      "componentName": "OnixBarleyElectronicTextVertical",
      "props": {
        "basic": {
          "left": 17,
          "top": 30,
          "width": 40,
          "height": 20
        },
        "textSection": {
          "fontSize": 3
        },
        "contentSection": {
          "value": "#data.text"
        }
      }
    }
```

**3.8.3.2 完整数据**

```
    {
      "componentName": "OnixBarleyElectronicTextVertical",
      "props": {
        "basic": {
          "left": 17,
          "top": 30,
          "width": 40,
          "height": 20
        },
        "textSection": {
          "rotate": 0,
          "fontFamily": "SimSun, Arial, sans-serif",
          "fontSize": 3,
          "fontWeight": "normal",
          "letterSpace": 0,
          "lineHeight": 1,
          "opacity": 10,
          "fontStyle": "normal",
          "fontJustifyContent": "flex-start",
          "fontAlignItems": "flex-start",
          "backgroundColor": "#FFFFFFFF",
          "color": "#000000FF"
        },
        "contentSection": {
          "content": "小红书",
          "value": "#data.text"
        },
        "visibleSection": {
          "visible": true,
          "value": "#data.textVerticalVisible"
        }
      }
    }
```

## 3.9 ISV打印项

### 3.9.1 效果图

![](https://qimg.xiaohongshu.com/odin/1041017g319k5g6h8ng06bbea2o9000000000017oratjg)

### 3.9.2 支持配置

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| 属性字段 | | | 字段说明 | 使用建议 | 默认值 | 支持自定义数据#data.xxx |
| props | basic | height | 组件高度 | 必传 |  |  |
| top | 纵向坐标 | 必传 |  |  |

### 3.9.3 参考数据

```
    {
      "componentName": "OnixBarleyElectronicIsv",
      "props": {
        "basic": {
          "top": 98,
          "height": 27
        }
      }
    }
```

## 3.10 图片组件

### 3.10.1 效果图

![](https://qimg.xiaohongshu.com/odin/1041017g319qicnpnnc06bbea2o9000000000012u3h2l2)

### 3.10.2 支持配置

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| 属性字段 | | | 字段说明 | 使用建议 | 默认值 | 支持自定义数据#data.xxx |
| props | basic | left | 横向坐标 | 必传 |  |  |
| top | 纵向坐标 | 必传 |  |  |
| width | 组件宽度 | 必传 |  |  |
| height | 组件高度 | 必传 |  |  |
| cover | url | 图片链接 | 必传 |  |  |
| visibleSection | visible | 默认是否展示 |  | true |  |
| value | 根据自定义数据控制是否展示当前组件 |  |  | ✅ |

### 3.10.3 参考数据

**3.10.3.1 最小可用数据**

说明：只保留必传参数，其余属性均使用默认

```
    {
      "componentName": "OnixBarleyElectronicImage",
      "props": {
        "basic": {
          "left": 0,
          "top": 0,
          "width": 28,
          "height": 23
        },
        "cover": {
          "url": "https://growth-img.xhscdn.com/ditto/104100n03186pn6tcjk06d44hi09g0000000000j7d5q4s"
        }
      }
    }
```

**3.10.3.2 完整数据**

```
    {
      "componentName": "OnixBarleyElectronicImage",
      "props": {
        "basic": {
          "left": 0,
          "top": 0,
          "width": 28,
          "height": 23
        },
        "cover": {
          "url": "https://growth-img.xhscdn.com/ditto/104100n03186pn6tcjk06d44hi09g0000000000j7d5q4s"
        },
        "visibleSection": {
          "visible": true,
          "value": "#data.imageVisible"
        }
      }
    }
```

## 3.11 表格

### 3.11.1 效果图

![](https://qimg.xiaohongshu.com/odin/1041017g31fo14ur30206bbea2o90000000000108sefe2)

### 3.11.2 属性说明

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| 属性字段 | | | 字段说明 | 使用建议 | 默认值 | 支持自定义数据#data.xxx |
| props | basic | left | 横向坐标 | 必传 |  |  |
| top | 纵向坐标 | 必传 |  |  |
| width | 组件宽度 | 必传 |  |  |
| height | 组件高度 | 必传 |  |  |
| tableSection | rowHeight | 表格单行高度，单位mm | 必传 | 8 |  |
| columnCount | 表格列数 | 注意：该配置只在云打系统预览时生效，实际以数据为准 |  |  |
| fontSize | 表格文本字体大小，单位px |  | 12px |  |
| showHeader | 使用固定表头 |  | false |  |
| headerList | 固定表头数据 |  | [ ] |  |
| visibleSection | visible | 默认是否展示 |  | true |  |
| value | 根据自定义数据控制是否展示当前组件 |  |  | ✅ 示例：模板中配置#data.tableData，详细数据格式见3.11.4 |

### 3.11.3 参考数据

**3.11.3.1 最小可用数据**

说明：*只保留必传参数，其余属性均使用默认*

**使用固定表头（表头部分带有灰色背景）**

```
    {
      "componentName": "OnixBarleyElectronicTable",
      "props": {
        "basic": {
          "left": 9,
          "top": 1,
          "width": 50,
          "height": 28
        },
        "tableSection": {
          "rowHeight": 6,
          "fontSize": 12,
          "showHeader": true,
          "columnWidth": 8,
          "headerList": [
            {
              "headerName": "第一列"
            },
            {
              "headerName": "第二列"
            },
            {
              "headerName": "第三列"
            },
            {
              "headerName": "第四列"
            }
          ]
        },
        "contentSection": {
          "content": [],
          "value": "#data.tableData"
        }
      }
    }
```

**不需要固定表头**

```
    {
      "componentName": "OnixBarleyElectronicTable",
      "props": {
        "basic": {
          "left": 9,
          "top": 1,
          "width": 50,
          "height": 28
        },
        "tableSection": {
          "rowHeight": 6,
          "fontSize": 12,
          "columnWidth": 8
        },
        "contentSection": {
          "content": [],
          "value": "#data.tableData"
        }
      }
    }
```

**3.11.3.2 完整数据**

```
    {
      "componentName": "OnixBarleyElectronicTable",
      "props": {
        "basic": {
          "left": 9,
          "top": 1,
          "width": 50,
          "height": 28
        },
        "tableSection": {
          "rowHeight": 6,
          "fontSize": 12,
          "showHeader": true,
          "columnWidth": 8,
          "headerList": [
            {
              "headerName": "第一列"
            },
            {
              "headerName": "第二列"
            },
            {
              "headerName": "第三列"
            },
            {
              "headerName": "第四列"
            }
          ]
        },
        "contentSection": {
          "content": [],
          "value": "#data.tableData"
        },
        "visibleSection": {
          "visible": true
        }
      }
    }
```

### 3.11.4 协议测试数据

tableData 存储完整的表格数据，系统会将 tableData 数组的长度作为表格的列数。表格渲染时，系统会遍历 columns 配置，将每一列的内容按照定义映射到 tableData 中对应的数据字段，从而构建出完整的表格内容。协议数据

```
"data":{
    "tableData": [
        {
            "columns": [
                "产品规格",
                "手工烘焙蛋黄酥"
            ]
        },
        {
            "columns": [
                "数量",
                "1"
            ]
        }
    ]
}
```

打印效果（无固定表头）打印效果（固定表头）

# 四、常见问题

## 4.1 返回多条数据时，如何通过拼接数据将内容绘制到一个文本组件里？

小红书打印组件在处理动态数据时，使用JavaScript语言进行处理，因此编写拼接逻辑时请注意遵守JavaScript语法规范。当前场景下，可以将数据组装到新的数组，传给打印组件进行渲染。假设数据结构如下所示，拼接时请注意对象属性关联的数据格式

```
{
            "data": {
              "array1": [
                "iphone14 红色 256G/1",
                "iphone14 黑色 256G/1"
              ],
              "array2": [
                "1/1"
              ],
              "text1": "1/2",
              "text2": "2/2",
            }
```

* 使用数组格式拼接时，比如array1拼接array2，可以使用 “[ ...#data.array1, ...#data.array2 ]”，最终解析出的数据为

```
[
    "iphone14 红色 256G/1",
    "iphone14 黑色 256G/1",
    "1/1"
 ]
```

* 使用字符格式拼接时，比如text1拼接text2，可以使用如下方式，最终解析结果为

+ “[ #data.text1, #data.text2 ]”，拼接成数组结构

```
[
    "1/2",
    "2/2"
]
```

+ “#data.text1 + '\n' + #data.text2”，拼接成新的字符串

```
1/2\n2/2
```

## 4.2 style字段有什么作用

style属性仅用来在小红书云打印系统渲染使用，对打印组件无效，ISV无需关心

## 4.3 如何获取自定义区域的大小？

自定义区域的高度：取OnixBarleyElectronicIsv组件的高度（props.basic.height）

自定义区域的宽度：取主模板的宽度，注意现在OnixBarleyElectronicIsv组件不支持设置宽度所以获取的宽度会等于0。例如主模板的size=76\*130，取(size.split("\*"))[0]做为宽度。

自定义区域的坐标left：0

自定义区域的坐标top：OnixBarleyElectronicIsv组件的top（<props.basic.top>)

## 4.4 如何分页？

只有当主模板和自定义模板的isSplit=true时才支持分页，其他情况不分页；分页的逻辑是对文本组件生效，通过计算文本组件的高度来判断是否分页。

有些ISV希望完全由自己控制分页不受平台控制，可以通过打印命令的task下的forceNoPaging=true来控制。

## 4.5 如何遍历取数据中数组内容？

使用javascript语法来遍历数组，例如将订单列表拼接成一个字符串用逗号分割

数据如下：

```
"data":{
    "orders":["order1", "order2"]
}
```

内容表达式可以写成：

```
// 示例
((arr, splitChar) => {
    var result = '';
    for (var i = 0; i < arr.length; i++) {
       if(i>0) {
          result += splitChar;
       }
       result += arr[i];
    }
    return result;
})(#data.orders || [], ',');
```

也可以简单的写成

```
(#data.orders || []).join(',')
```

最后文本组件渲染的内容就是：order1,order2

## 4.6 我们是用服务商的自定义区域  还是用店铺的自定义区域呢

取决于你们的产品形态

1. 有的ERP会自己在小红书云打印系统上创建好【自定义区域】，得到模板URL然后放到自己的ERP上让用户去选择模板
2. 有的ERP只是创建打印项，让商家在云打印系统上选择打印项去创建商家自定义模板，然后调用我们的模板查询接口得到商家的模板URL
3. 有的ERP会在自己的ERP上让商家直接编辑自定义模板，然后转换成打印组件识别的小红书模板标记语言

## 4.7 设置了字体大小和宽高不生效

当前所有坐标长宽相关的字段类型都是纯数字，不能是字符串，不要在末尾加上单位，例如字体大小fontSize末尾不要加上单位px。

# 五、附录

## 5.1 枚举

|  |  |  |
| --- | --- | --- |
| 属性名 | value | name |
| 条形码格式type | [ { name: 'CODE128 auto', value: 'CODE128', }, { name: 'CODE128A', value: 'CODE128A', }, { name: 'CODE128 B', value: 'CODE128B', }, { name: 'CODE128 C', value: 'CODE128C', }, { name: 'EAN13', value: 'EAN13', }, { name: 'EAN8', value: 'EAN8', }, { name: 'UPC', value: 'UPC', }, { name: 'CODE39', value: 'CODE39', }, { name: 'ITF14', value: 'ITF14', }, { name: 'ITF', value: 'ITF', }, { name: 'MSI', value: 'MSI', }, { name: 'MSI10', value: 'MSI10', }, { name: 'MSI11', value: 'MSI11', }, { name: 'MSI1010', value: 'MSI1010', }, { name: 'MSI1110', value: 'MSI1110', }, { name: 'pharmacode', value: 'pharmacode', }] | 左侧的数组name是展示名字，value是值 |
| 字体fontFamily | SimHei, Arial, sans-serif | 黑体 |
| 字号fontWeight | lighter | 偏细 |
| normal | 正常 |
| bold | 加粗 |
| 字体样式fontStyle | italic | 斜体 |
| underline | 下划线 |
| normal | 无 |
| 水平排列fontJustifyContent | flex-start | 左对齐 |
| center | 居中 |
| flex-end | 右对齐 |
| 垂直排列fontAlignItems | flex-start | 顶部对齐 |
| center | 居中 |
| flex-end | 底部对齐 |
| 线条形状borderStyle | solid | 实线 |
| dashed | 虚线 |